{"version":3,"sources":["logo.svg","App.js","reportWebVitals.js","index.js"],"names":["hepburn","require","LESSONS","App","state","lessonNumber","vocabItems","currentQueue","vocabIndex","revealDetails","currentWord","hasFailed","showRomaji","this","updateState","bind","onKeyDown","onLessonChange","setLesson","onRomajiChecked","array","a","i","length","j","Math","floor","random","temp","fetch","then","x","text","rows","load","$","children","rowCount","row","eq","vocab","kana","trim","kanji","english","split","map","romaji","toLowerCase","fromKana","replace","push","shuffleArray","pop","max","newStates","callback","s","setState","w","e","key","strip","includes","target","value","unshift","className","onChange","type","name","checked","for","undefined","join","Component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6f0cab0c.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","// https://www.csus.edu/indiv/s/sheaa/projects/genki/vocab_main.html\n\nimport logo from './logo.svg';\nimport './App.css';\nimport { load } from 'cheerio';\nimport { Component } from \"react\";\n\nconst hepburn = require(\"hepburn\");\n\nconst CROSS_ORIGIN_HACK = \"https://cors-anywhere.herokuapp.com/\";\nconst SCRAP_URL = \"ohelo.org/japn/lang/genki_vocab_table.php?lesson=\";\n\nconst LESSONS = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23];\n\nconst lessonContents = {\n\n};\n\nexport default class App extends Component {\n\n  state = { \n    lessonNumber: 1,\n    vocabItems: [ ],\n    currentQueue: [ ],\n    vocabIndex: 0,\n    revealDetails: false,\n    currentWord: null,\n    hasFailed: false,\n    showRomaji: false\n  }\n\n  componentDidMount() {\n    this.updateState = this.updateState.bind(this);\n    this.onKeyDown = this.onKeyDown.bind(this);\n    this.onLessonChange = this.onLessonChange.bind(this);\n    this.setLesson = this.setLesson.bind(this);\n    this.onRomajiChecked = this.onRomajiChecked.bind(this);\n\n    this.setLesson();\n  }\n\n  shuffleArray(array) {\n    let a = [ ...array ];\n    for (var i = a.length - 1; i > 0; i--) {\n        var j = Math.floor(Math.random() * (i + 1));\n        var temp = a[i];\n        a[i] = a[j];\n        a[j] = temp;\n    }\n    return a\n  }\n\n  setLesson() {\n\n    this.updateState({\n      vocabItems: [ ],\n      currentWord: null\n    });\n\n    fetch(CROSS_ORIGIN_HACK + (SCRAP_URL + this.state.lessonNumber))\n    .then(x => x.text())\n    .then(x => {\n      let vocabItems = [ ];\n      const $ = load(x);\n      const table = $(\"tbody\");\n      const rows = table.children();\n      const rowCount = rows.length;\n      for (let i = 1; i < rowCount; i++) {\n        const row = rows.eq(i);\n        let vocab;\n        if(row.children().length == 3) {\n          vocab = {\n            kana: row.children().eq(0).text().trim(),\n            kanji: row.children().eq(1).text().trim(),\n            english: row.children().eq(2).text().split(/,|;|\\//).map(x => x.trim()),\n          };\n        }\n        else {\n          vocab = {\n            kana: row.children().eq(0).text().trim(),\n            kanji: row.children().eq(1).text().trim(),\n            romaji: row.children().eq(2).text().split(/,|;|\\//).map(x => x.trim().toLowerCase()),\n            english: row.children().eq(3).text().split(/,|;|\\//).map(x => x.trim()),\n          };\n        }\n        \n        vocab.romaji = vocab.kana.split(\"／\").map(x => hepburn.fromKana(x).trim().toLowerCase()\n          .replace(/ō/, \"ou\")\n          .replace(/ā/, \"aa\")\n          .replace(/ē/, \"ei\")\n          .replace(/ū/, \"uu\")\n          .replace(/ī/, \"ii\"));\n        vocabItems.push(vocab);\n      }\n\n      this.updateState({\n        currentQueue: this.shuffleArray(vocabItems),\n        vocabItems: vocabItems,\n        vocabIndex: this.random(vocabItems.length),\n        revealDetails: false\n      }, () => {\n        this.updateState({\n          currentWord: this.state.currentQueue.pop()\n        });\n      });\n    });\n  }\n\n  random(max) {\n    return Math.floor(Math.random() * Math.floor(max));\n  }\n\n  updateState(newStates, callback) {\n    const s = {\n      ...this.state,\n      ...newStates\n    };\n\n    this.setState(s, callback);\n  }\n\n  strip(w) {\n    return w\n    .trim()\n    .toLowerCase()\n    .replace(/[^0-9a-z]/gi, '')\n    .replace(/ee/gi, \"ei\")\n    .replace(/oo/gi, \"ou\")\n  }\n\n  onKeyDown(e) {\n    // console.log(e);\n    // \"hui\".repl\n    if(e.key === \"Enter\") {\n      if(this.state.currentWord.romaji.map(x => this.strip(x))\n        .includes(this.strip(e.target.value))) {\n\n        if(this.state.hasFailed)\n          this.state.currentQueue.unshift(this.state.currentWord);\n\n        if(this.state.currentQueue.length == 0) {\n          this.updateState({\n            lessonNumber: this.state.lessonNumber + 1\n          }, () => {\n            this.setLesson();\n          });\n        }\n        else {\n          this.updateState({\n            currentWord: this.state.currentQueue.pop(),\n            revealDetails: false,\n            hasFailed: false\n          });\n        }\n        \n      }\n      else {\n        this.updateState({\n          revealDetails: true,\n          hasFailed: true\n        });\n      }\n      e.target.value = \"\";\n    }\n  }\n\n  onLessonChange(e) {\n    this.updateState({\n      lessonNumber: e.target.value\n    }, () => {\n      this.setLesson();\n    });\n  }\n\n  onRomajiChecked(e) {\n    this.updateState({\n      showRomaji: !this.state.showRomaji\n    });\n  }\n\n  render() {\n    const vocab = this.state.currentWord;\n    if(!vocab) return <div className=\"app centered\">\n      Fetching vocabulary... This may take a while.\n    </div>;\n\n    return (\n      <div className=\"app\">\n        <div className=\"centered\">\n          <select className=\"lesson-select\" onChange={e => this.onLessonChange(e)} value={this.state.lessonNumber}>\n            {LESSONS.map(x => {\n              return <option key={x} value={x}>Lesson {x}</option>\n            })}\n          </select>\n          &nbsp;&nbsp;\n          <input type=\"checkbox\" name=\"romaji\" checked={this.state.showRomaji} onChange={e => this.onRomajiChecked(e)}></input>\n          <label for=\"romaji\"> Show Romaji Pronounciations</label>\n          {/* <input type=\"checkbox\" name=\"romaji\" checked={this.state.showRomaji} onChange={e => this.onRomajiChecked(e)}></input>\n          <label for=\"romaji\"> Study Hiragana Vocabulary</label> */}\n          <hr></hr>\n        </div>\n        <div className=\"the-app centered\">\n            <p>{1 + this.state.currentQueue.length} Left</p>\n            <h1 className=\"centered kanji\">{vocab.kanji == \"\"? vocab.kana : vocab.kanji}</h1>\n            {this.state.revealDetails? <div>\n              {(vocab.kanji != \"\" || this.state.showRomaji)? <p className=\"help-text\">pronounciation</p> : undefined}\n              {vocab.kanji == \"\"? \n              (this.state.showRomaji? <h2 className=\"pronounciation\">{vocab.romaji.join(\", \")}</h2> : undefined) : \n              <h2 className=\"pronounciation\">{vocab.kana}<br></br>{this.state.showRomaji? vocab.romaji.join(\", \") : undefined}</h2>}\n              <p className=\"help-text\">meaning</p>\n              <h2 className=\"english\">{vocab.english.join(\", \")}</h2>\n            </div> : undefined }\n        </div>\n        <div className=\"centered\">\n          <p className=\"help-text\">Enter the romaji that corresponds to this word</p>\n          <input className=\"main-textbox\" type=\"text\" onKeyDown={e => this.onKeyDown(e)}></input>\n        </div>\n      </div>\n    );\n  }\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}