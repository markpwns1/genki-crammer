{"version":3,"sources":["logo.svg","App.js","reportWebVitals.js","index.js"],"names":["hepburn","require","LESSONS","App","state","lessonNumber","vocabItems","currentQueue","vocabIndex","revealDetails","currentWord","hasFailed","this","updateState","bind","onKeyDown","onLessonChange","setLesson","array","a","i","length","j","Math","floor","random","temp","fetch","then","x","text","rows","load","$","children","rowCount","row","eq","vocab","kana","trim","kanji","english","split","map","romaji","toLowerCase","fromKana","replace","push","shuffleArray","pop","max","newStates","callback","s","setState","e","key","includes","target","value","unshift","className","onChange","join","undefined","type","Component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6926d11f.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","// https://www.csus.edu/indiv/s/sheaa/projects/genki/vocab_main.html\n\nimport logo from './logo.svg';\nimport './App.css';\nimport { load } from 'cheerio';\nimport { Component } from \"react\";\n\nconst hepburn = require(\"hepburn\");\n\nconst CROSS_ORIGIN_HACK = \"https://cors-anywhere.herokuapp.com/\";\nconst SCRAP_URL = \"ohelo.org/japn/lang/genki_vocab_table.php?lesson=\";\n\nconst LESSONS = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23];\n\nconst lessonContents = {\n\n};\n\nexport default class App extends Component {\n\n  state = { \n    lessonNumber: 1,\n    vocabItems: [ ],\n    currentQueue: [ ],\n    vocabIndex: 0,\n    revealDetails: false,\n    currentWord: null,\n    hasFailed: false\n  }\n\n  componentDidMount() {\n    this.updateState = this.updateState.bind(this);\n    this.onKeyDown = this.onKeyDown.bind(this);\n    this.onLessonChange = this.onLessonChange.bind(this);\n    this.setLesson = this.setLesson.bind(this);\n\n    this.setLesson();\n  }\n\n  shuffleArray(array) {\n    let a = [ ...array ];\n    for (var i = a.length - 1; i > 0; i--) {\n        var j = Math.floor(Math.random() * (i + 1));\n        var temp = a[i];\n        a[i] = a[j];\n        a[j] = temp;\n    }\n    return a\n  }\n\n  setLesson() {\n    fetch(CROSS_ORIGIN_HACK + (SCRAP_URL + this.state.lessonNumber))\n    .then(x => x.text())\n    .then(x => {\n      let vocabItems = [ ];\n      const $ = load(x);\n      const table = $(\"tbody\");\n      const rows = table.children();\n      const rowCount = rows.length;\n      for (let i = 1; i < rowCount; i++) {\n        const row = rows.eq(i);\n        let vocab;\n        if(row.children().length == 3) {\n          vocab = {\n            kana: row.children().eq(0).text().trim(),\n            kanji: row.children().eq(1).text().trim(),\n            english: row.children().eq(2).text().split(/,|;|\\//).map(x => x.trim()),\n          };\n        }\n        else {\n          vocab = {\n            kana: row.children().eq(0).text().trim(),\n            kanji: row.children().eq(1).text().trim(),\n            romaji: row.children().eq(2).text().split(/,|;|\\//).map(x => x.trim().toLowerCase()),\n            english: row.children().eq(3).text().split(/,|;|\\//).map(x => x.trim()),\n          };\n        }\n        \n        vocab.romaji = vocab.kana.split(\"／\").map(x => hepburn.fromKana(x).trim().toLowerCase()\n          .replace(/ō/, \"ou\")\n          .replace(/ā/, \"aa\")\n          .replace(/ē/, \"ei\")\n          .replace(/ū/, \"uu\")\n          .replace(/ī/, \"ii\"));\n        vocabItems.push(vocab);\n      }\n\n      this.updateState({\n        currentQueue: this.shuffleArray(vocabItems),\n        vocabItems: vocabItems,\n        vocabIndex: this.random(vocabItems.length),\n        revealDetails: false\n      }, () => {\n        this.updateState({\n          currentWord: this.state.currentQueue.pop()\n        });\n      });\n    });\n  }\n\n  random(max) {\n    return Math.floor(Math.random() * Math.floor(max));\n  }\n\n  updateState(newStates, callback) {\n    const s = {\n      ...this.state,\n      ...newStates\n    };\n\n    this.setState(s, callback);\n  }\n\n  onKeyDown(e) {\n    // console.log(e);\n    if(e.key === \"Enter\") {\n      if(this.state.currentWord.romaji.map(x => x\n          .replace(/[^0-9a-z\\s]/gi, '')\n          .replace(\"see\", \"sei\")\n          .replace(\"oo\", \"ou\"))\n        .includes(e.target.value.replace(/[^0-9a-z\\s]/gi, '').toLowerCase()\n          .replace(\"see\", \"sei\")\n          .replace(\"oo\", \"ou\"))) {\n\n        if(this.state.hasFailed)\n          this.state.currentQueue.unshift(this.state.currentWord);\n\n        this.updateState({\n          currentWord: this.state.currentQueue.pop(),\n          revealDetails: false,\n          hasFailed: false\n        });\n      }\n      else {\n        this.updateState({\n          revealDetails: true,\n          hasFailed: true\n        });\n      }\n      e.target.value = \"\";\n    }\n  }\n\n  onLessonChange(e) {\n    this.updateState({\n      lessonNumber: e.target.value\n    }, () => {\n      this.setLesson();\n    });\n  }\n\n  render() {\n    const vocab = this.state.currentWord;\n    if(!vocab) return <div></div>;\n\n    return (\n      <div className=\"app\">\n        <select className=\"lesson-select\" onChange={e => this.onLessonChange(e)}>\n          {LESSONS.map(x => {\n            return <option key={x} value={x}>Lesson {x}</option>\n          })}\n        </select>\n        <div className=\"centered\">\n            <p>{1 + this.state.currentQueue.length} Left</p>\n            <h1 className=\"centered kanji\">{vocab.kanji == \"\"? vocab.kana : vocab.kanji}</h1>\n            {this.state.revealDetails? <div>\n              {vocab.kanji == \"\"? \n              <h2 className=\"pronounciation\">{vocab.romaji.join(\", \")}</h2> : \n              <h2 className=\"pronounciation\">{vocab.kana}<br></br>{vocab.romaji.join(\", \")}</h2>}\n              <h2 className=\"english\">{vocab.english.join(\", \")}</h2>\n            </div> : undefined }\n        </div>\n        <div className=\"centered\">\n          Enter the romaji that corresponds to this word\n          <input className=\"main-textbox\" type=\"text\" onKeyDown={e => this.onKeyDown(e)}></input>\n        </div>\n      </div>\n    );\n  }\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}