{"version":3,"sources":["logo.svg","App.js","reportWebVitals.js","index.js"],"names":["hepburn","require","LESSONS","App","state","lessonNumber","partNumber","vocabItems","currentQueue","vocabIndex","revealDetails","currentWord","hasFailed","showRomaji","this","updateState","bind","onKeyDown","onLessonChange","setLesson","onRomajiChecked","removeKanaFromQueue","onKanjiClicked","onPartChange","array","a","i","length","j","Math","floor","random","temp","console","log","fetch","encodeURI","then","x","text","rows","load","$","children","rowCount","row","eq","vocab","kana","trim","kanji","english","split","map","romaji","toLowerCase","fromKana","replace","push","shuffleArray","slice","pop","max","newStates","callback","s","setState","w","e","key","strip","includes","target","value","unshift","parseInt","nextState","filter","kanjiText","window","open","className","onChange","type","onClick","name","checked","for","href","undefined","join","Component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b6645599.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","// https://www.csus.edu/indiv/s/sheaa/projects/genki/vocab_main.html\n\nimport logo from './logo.svg';\nimport './App.css';\nimport { load } from 'cheerio';\nimport { Component } from \"react\";\n\nconst hepburn = require(\"hepburn\");\n\nconst CROSS_ORIGIN_HACK = \"https://api.codetabs.com/v1/proxy?quest=\";\nconst SCRAP_URL = \"http://ohelo.org/japn/lang/genki_vocab_table.php?lesson=\";\nconst JISHO_SEARCH = \"https://jisho.org/search?keyword=\";\n\nconst LESSONS = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23];\n\nconst lessonContents = {\n\n};\n\nexport default class App extends Component {\n\n  state = { \n    lessonNumber: 1,\n    partNumber: 0,\n    vocabItems: [ ],\n    currentQueue: [ ],\n    vocabIndex: 0,\n    revealDetails: false,\n    currentWord: null,\n    hasFailed: false,\n    showRomaji: false\n  }\n\n  componentDidMount() {\n    this.updateState = this.updateState.bind(this);\n    this.onKeyDown = this.onKeyDown.bind(this);\n    this.onLessonChange = this.onLessonChange.bind(this);\n    this.setLesson = this.setLesson.bind(this);\n    this.onRomajiChecked = this.onRomajiChecked.bind(this);\n    this.removeKanaFromQueue = this.removeKanaFromQueue.bind(this);\n    this.onKanjiClicked = this.onKanjiClicked.bind(this);\n    this.onPartChange = this.onPartChange.bind(this);\n    this.setLesson();\n  }\n\n  shuffleArray(array) {\n    let a = [ ...array ];\n    for (var i = a.length - 1; i > 0; i--) {\n        var j = Math.floor(Math.random() * (i + 1));\n        var temp = a[i];\n        a[i] = a[j];\n        a[j] = temp;\n    }\n    return a\n  }\n\n  setLesson() {\n\n    this.updateState({\n      vocabItems: [ ],\n      currentWord: null\n    });\n\n    console.log(\"Fetching Kanji from website...\");\n    fetch(CROSS_ORIGIN_HACK + (encodeURI(SCRAP_URL + this.state.lessonNumber)))\n    .then(x => x.text())\n    .then(x => {\n      console.log(\"Fetched!\");\n      let vocabItems = [ ];\n      const $ = load(x);\n      const table = $(\"tbody\");\n      const rows = table.children();\n      const rowCount = rows.length;\n      for (let i = 1; i < rowCount; i++) {\n        const row = rows.eq(i);\n        let vocab;\n        if(row.children().length == 3) {\n          vocab = {\n            kana: row.children().eq(0).text().trim(),\n            kanji: row.children().eq(1).text().trim(),\n            english: row.children().eq(2).text().split(/,|;|\\//).map(x => x.trim()),\n          };\n        }\n        else {\n          vocab = {\n            kana: row.children().eq(0).text().trim(),\n            kanji: row.children().eq(1).text().trim(),\n            romaji: row.children().eq(2).text().split(/,|;|\\//).map(x => x.trim().toLowerCase()),\n            english: row.children().eq(3).text().split(/,|;|\\//).map(x => x.trim()),\n          };\n        }\n        \n        // vocab.romaji = vocab.kana.split(\"／\").map(x => hepburn.fromKana(x).trim().toLowerCase()\n        //   .replace(/ō/gi, \"ou\")\n        //   .replace(/ā/gi, \"aa\")\n        //   .replace(/ē/gi, \"ei\")\n        //   .replace(/ū/gi, \"uu\")\n        //   .replace(/ī/gi, \"ii\"));\n\n        vocab.romaji = vocab.kana.split(\"／\").map(x => hepburn.fromKana(x).trim().toLowerCase()\n          .replace(/ō/gi, \"ou\")\n          .replace(/ā/gi, \"aa\")\n          .replace(/ē/gi, \"ei\")\n          .replace(/ū/gi, \"uu\")\n          .replace(/ī/gi, \"ii\"));\n\n        vocabItems.push(vocab);\n      }\n\n      vocabItems = this.shuffleArray(vocabItems);\n\n      this.updateState({\n        partNumber: 0,\n        currentQueue: vocabItems.slice(0, 10),\n        vocabItems: vocabItems,\n        vocabIndex: this.random(vocabItems.length),\n        revealDetails: false\n      }, () => {\n        this.updateState({\n          currentWord: this.state.currentQueue.pop()\n        });\n      });\n    });\n  }\n\n  random(max) {\n    return Math.floor(Math.random() * Math.floor(max));\n  }\n\n  updateState(newStates, callback) {\n    const s = {\n      ...this.state,\n      ...newStates\n    };\n\n    this.setState(s, callback);\n  }\n\n  strip(w) {\n    return w\n    .trim()\n    .toLowerCase()\n    .replace(/[^0-9a-z]/gi, '')\n    .replace(/ee/gi, \"ei\")\n    .replace(/oo/gi, \"ou\")\n  }\n\n  onKeyDown(e) {\n    // console.log(e);\n    // \"hui\".repl\n    if(e.key === \"Enter\") {\n      if(this.state.currentWord.romaji.map(x => this.strip(x))\n        .includes(this.strip(e.target.value))) {\n\n        if(this.state.hasFailed)\n          this.state.currentQueue.unshift(this.state.currentWord);\n\n        if(this.state.currentQueue.length == 0) {\n          if(this.state.partNumber * 10 >= this.state.vocabItems.length) {\n            this.updateState({\n              lessonNumber: (parseInt(this.state.lessonNumber) + 1)\n            }, () => {\n              this.setLesson();\n            });\n          }\n          else {\n            const nextState = parseInt(this.state.partNumber) + 1;\n            this.updateState({\n              partNumber: nextState,\n              currentQueue: this.state.vocabItems.slice(nextState * 10, (nextState + 1) * 10)\n            }, () => {\n              this.updateState({\n                currentWord: this.state.currentQueue.pop()\n              });\n            });\n          }\n        }\n        else {\n          this.updateState({\n            currentWord: this.state.currentQueue.pop(),\n            revealDetails: false,\n            hasFailed: false\n          });\n        }\n        \n      }\n      else {\n        this.updateState({\n          revealDetails: true,\n          hasFailed: true\n        });\n      }\n      e.target.value = \"\";\n    }\n  }\n\n  onLessonChange(e) {\n    this.updateState({\n      lessonNumber: parseInt(e.target.value)\n    }, () => {\n      this.setLesson();\n    });\n  }\n\n  onPartChange(e) {\n    this.updateState({\n      partNumber: e.target.value,\n      currentQueue: this.state.vocabItems.slice(e.target.value * 10, (parseInt(e.target.value) + 1) * 10)\n    }, () => {\n      this.updateState({\n        currentWord: this.state.currentQueue.pop()\n      });\n    });\n  }\n\n  onRomajiChecked() {\n    this.updateState({\n      showRomaji: !this.state.showRomaji\n    });\n  }\n\n  removeKanaFromQueue() {\n    this.updateState({\n      currentQueue: this.state.currentQueue.filter(x => x.kanji.trim() != \"\")\n    });\n  }\n\n  onKanjiClicked(kanjiText) {\n    if(this.state.revealDetails) {\n      window.open(JISHO_SEARCH + kanjiText);\n    }\n\n    this.updateState({\n      revealDetails: true,\n      hasFailed: true\n    });\n  }\n\n  render() {\n    const vocab = this.state.currentWord;\n    if(!vocab) return <div className=\"app centered\">\n      Fetching vocabulary... This may take a while.\n    </div>;\n\n    const kanjiText = vocab.kanji == \"\"? vocab.kana : vocab.kanji;\n\n    return (\n      <div className=\"app\">\n        <div className=\"centered\">\n          <select className=\"lesson-select\" onChange={e => this.onLessonChange(e)} value={this.state.lessonNumber}>\n            {LESSONS.map(x => {\n              return <option key={x} value={x}>Lesson {x}</option>\n            })}\n          </select>\n          &nbsp;&nbsp;\n          <select className=\"part-select\" onChange={e => this.onPartChange(e)} value={this.state.partNumber}>\n            {\n              (() => {\n                let a = [ ];\n                for (let i = 0; i * 10 < this.state.vocabItems.length; i++) {\n                  a.push(<option key={i} value={i}>Part {i + 1}</option>);\n                }\n                return a;\n              })()\n            }\n          </select>\n          &nbsp;&nbsp;\n          <input type=\"button\" value=\"Kanji Only\" onClick={() => this.removeKanaFromQueue()}></input>\n          <br></br>\n          <input type=\"checkbox\" name=\"romaji\" checked={this.state.showRomaji} onChange={e => this.onRomajiChecked(e)}></input>\n          <label for=\"romaji\"> Show Romaji Pronounciations</label>\n          <hr></hr>\n        </div>\n        <div className=\"the-app centered\">\n            <p>{1 + this.state.currentQueue.length} Left</p>\n            <h1 className=\"centered kanji\">\n              <a href=\"#\" onClick={() => this.onKanjiClicked(kanjiText)}>\n                {kanjiText}\n              </a>\n            </h1>\n            {this.state.revealDetails? <div>\n              {(vocab.kanji != \"\" || this.state.showRomaji)? <p className=\"help-text\">pronounciation</p> : undefined}\n              {vocab.kanji == \"\"? \n              (this.state.showRomaji? <h2 className=\"pronounciation\">{vocab.romaji.join(\", \")}</h2> : undefined) : \n              <h2 className=\"pronounciation\">{vocab.kana}<br></br>{this.state.showRomaji? vocab.romaji.join(\", \") : undefined}</h2>}\n              <p className=\"help-text\">meaning</p>\n              <h2 className=\"english\">{vocab.english.join(\", \")}</h2>\n            </div> : undefined }\n        </div>\n        <div className=\"centered\">\n          <p className=\"help-text\">Enter the romaji that corresponds to this word</p>\n          <input className=\"main-textbox\" type=\"text\" onKeyDown={e => this.onKeyDown(e)}></input>\n        </div>\n      </div>\n    );\n  }\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}