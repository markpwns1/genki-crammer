(this["webpackJsonpgenki-vocab"]=this["webpackJsonpgenki-vocab"]||[]).push([[0],{132:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(10),s=n.n(r),i=n(60),o=n.n(i),c=(n(72),n(29)),u=n(64),l=n(61),h=n(62),d=n(66),p=n(65),j=(n.p,n(73),n(63)),b=n(130),m=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],v=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={lessonNumber:1,vocabItems:[],currentQueue:[],vocabIndex:0,revealDetails:!1,currentWord:null,hasFailed:!1},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.updateState=this.updateState.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.onLessonChange=this.onLessonChange.bind(this),this.setLesson=this.setLesson.bind(this),this.setLesson()}},{key:"shuffleArray",value:function(e){for(var t=Object(u.a)(e),n=t.length-1;n>0;n--){var a=Math.floor(Math.random()*(n+1)),r=t[n];t[n]=t[a],t[a]=r}return t}},{key:"setLesson",value:function(){var e=this;fetch("https://cors-anywhere.herokuapp.com/ohelo.org/japn/lang/genki_vocab_table.php?lesson="+this.state.lessonNumber).then((function(e){return e.text()})).then((function(t){for(var n=[],a=Object(j.load)(t)("tbody").children(),r=a.length,s=1;s<r;s++){var i=a.eq(s),o=void 0;(o=3==i.children().length?{kana:i.children().eq(0).text().trim(),kanji:i.children().eq(1).text().trim(),english:i.children().eq(2).text().split(/,|;|\//).map((function(e){return e.trim()}))}:{kana:i.children().eq(0).text().trim(),kanji:i.children().eq(1).text().trim(),romaji:i.children().eq(2).text().split(/,|;|\//).map((function(e){return e.trim().toLowerCase()})),english:i.children().eq(3).text().split(/,|;|\//).map((function(e){return e.trim()}))}).romaji=o.kana.split("\uff0f").map((function(e){return b.fromKana(e).trim().toLowerCase().replace(/\u014d/,"ou").replace(/\u0101/,"aa").replace(/\u0113/,"ei").replace(/\u016b/,"uu").replace(/\u012b/,"ii")})),n.push(o)}e.updateState({currentQueue:e.shuffleArray(n),vocabItems:n,vocabIndex:e.random(n.length),revealDetails:!1},(function(){e.updateState({currentWord:e.state.currentQueue.pop()})}))}))}},{key:"random",value:function(e){return Math.floor(Math.random()*Math.floor(e))}},{key:"updateState",value:function(e,t){var n=Object(c.a)(Object(c.a)({},this.state),e);this.setState(n,t)}},{key:"onKeyDown",value:function(e){"Enter"===e.key&&(this.state.currentWord.romaji.map((function(e){return e.replace(/[^0-9a-z\s]/gi,"").replace("see","sei").replace("oo","ou")})).includes(e.target.value.replace(/[^0-9a-z\s]/gi,"").toLowerCase().replace("see","sei").replace("oo","ou"))?(this.state.hasFailed&&this.state.currentQueue.unshift(this.state.currentWord),this.updateState({currentWord:this.state.currentQueue.pop(),revealDetails:!1,hasFailed:!1})):this.updateState({revealDetails:!0,hasFailed:!0}),e.target.value="")}},{key:"onLessonChange",value:function(e){var t=this;this.updateState({lessonNumber:e.target.value},(function(){t.setLesson()}))}},{key:"render",value:function(){var e=this,t=this.state.currentWord;return t?Object(a.jsxs)("div",{className:"app",children:[Object(a.jsx)("select",{className:"lesson-select",onChange:function(t){return e.onLessonChange(t)},children:m.map((function(e){return Object(a.jsxs)("option",{value:e,children:["Lesson ",e]},e)}))}),Object(a.jsxs)("div",{className:"centered",children:[Object(a.jsxs)("p",{children:[1+this.state.currentQueue.length," Left"]}),Object(a.jsx)("h1",{className:"centered kanji",children:""==t.kanji?t.kana:t.kanji}),this.state.revealDetails?Object(a.jsxs)("div",{children:[""==t.kanji?Object(a.jsx)("h2",{className:"pronounciation",children:t.romaji.join(", ")}):Object(a.jsxs)("h2",{className:"pronounciation",children:[t.kana,Object(a.jsx)("br",{}),t.romaji.join(", ")]}),Object(a.jsx)("h2",{className:"english",children:t.english.join(", ")})]}):void 0]}),Object(a.jsxs)("div",{className:"centered",children:["Enter the romaji that corresponds to this word",Object(a.jsx)("input",{className:"main-textbox",type:"text",onKeyDown:function(t){return e.onKeyDown(t)}})]})]}):Object(a.jsx)("div",{})}}]),n}(r.Component),f=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,133)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),s(e),i(e)}))};o.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(v,{})}),document.getElementById("root")),f()},72:function(e,t,n){},73:function(e,t,n){}},[[132,1,2]]]);
//# sourceMappingURL=main.6926d11f.chunk.js.map